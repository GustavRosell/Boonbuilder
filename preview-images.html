<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoonBuilder Image Preview</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #fff;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .category {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        .category-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        .image-card {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .image-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .image-card img {
            width: 100px;
            height: 100px;
            object-fit: contain;
            margin-bottom: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 5px;
        }
        .image-card .name {
            font-weight: 600;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        .image-card .path {
            font-size: 0.75em;
            opacity: 0.7;
            word-break: break-all;
        }
        .status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-top: 5px;
        }
        .status.exists {
            background: #10b981;
        }
        .status.missing {
            background: #ef4444;
        }
        .status.fallback {
            background: #f59e0b;
        }
        .stats {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        .stats h2 {
            margin-bottom: 15px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        .stat-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 8px;
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ® BoonBuilder Image Preview</h1>

        <div class="stats">
            <h2>Image Statistics</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="total-count">0</div>
                    <div>Total Images</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" style="color: #10b981;" id="exists-count">0</div>
                    <div>âœ“ Existing</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" style="color: #ef4444;" id="missing-count">0</div>
                    <div>âœ— Missing</div>
                </div>
            </div>
        </div>

        <div id="images-container"></div>
    </div>

    <script>
        const baseUrl = './boonbuilder-frontend/public';

        const imageData = {
            'Gods': [
                '/images/gods/aphrodite.webp',
                '/images/gods/apollo.webp',
                '/images/gods/ares.webp',
                '/images/gods/demeter.webp',
                '/images/gods/hephaestus.webp',
                '/images/gods/hera.webp',
                '/images/gods/hestia.webp',
                '/images/gods/poseidon.webp',
                '/images/gods/zeus.webp'
            ],
            'Core Boons': [
                '/images/boons/core/flutter_strike.webp',
                '/images/boons/core/flutter_flourish.webp',
                '/images/boons/core/rapture_ring.webp',
                '/images/boons/core/passion_rush.webp',
                '/images/boons/core/glamour_gain.webp',
                '/images/boons/core/nova_strike.webp',
                '/images/boons/core/nova_flourish.webp',
                '/images/boons/core/solar_ring.webp',
                '/images/boons/core/blinding_sprint.webp',
                '/images/boons/core/lucid_gain.webp',
                '/images/boons/core/vicious_strike.webp',
                '/images/boons/core/vicious_flourish.webp',
                '/images/boons/core/blade_rift.webp',
                '/images/boons/core/battle_sprint.webp',
                '/images/boons/core/blood_frenzy.webp',
                '/images/boons/core/frost_strike.webp',
                '/images/boons/core/frost_flourish.webp',
                '/images/boons/core/frozen_touch.webp',
                '/images/boons/core/frigid_sprint.webp',
                '/images/boons/core/rare_crop.webp',
                '/images/boons/core/volcanic_strike.webp',
                '/images/boons/core/volcanic_flourish.webp',
                '/images/boons/core/molten_touch.webp',
                '/images/boons/core/forge_sprint.webp',
                '/images/boons/core/smoldering_air.webp',
                '/images/boons/core/heaven_strike.webp',
                '/images/boons/core/heaven_flourish.webp',
                '/images/boons/core/storm_ring.webp',
                '/images/boons/core/thunder_rush.webp',
                '/images/boons/core/ionic_gain.webp'
            ],
            'Duo Boons': [
                '/images/boons/duo/hearty_appetite.webp',
                '/images/boons/duo/island_getaway.webp',
                '/images/boons/duo/romantic_spark.webp',
                '/images/boons/duo/sunny_disposition.webp',
                '/images/boons/duo/beach_ball.webp',
                '/images/boons/duo/glorious_disaster.webp',
                '/images/boons/duo/torrential_downpour.webp'
            ],
            'Legendary Boons': [
                '/images/boons/legendary/king_tide.webp',
                '/images/boons/legendary/shocking_loss.webp',
                '/images/boons/legendary/perfect_shot.webp',
                '/images/boons/legendary/winter_harvest.webp'
            ],
            'Weapon Aspects': [
                '/images/aspects/aspect_circe.webp',
                '/images/aspects/aspect_momus.webp',
                '/images/aspects/aspect_artemis.webp',
                '/images/aspects/aspect_pan.webp',
                '/images/aspects/aspect_moros.webp',
                '/images/aspects/aspect_eos.webp',
                '/images/aspects/aspect_charon.webp',
                '/images/aspects/aspect_thanatos.webp',
                '/images/aspects/aspect_medea.webp',
                '/images/aspects/aspect_persephone.webp',
                '/images/aspects/aspect_selene.webp',
                '/images/aspects/aspect_nyx.webp'
            ],
            'Familiars': [
                '/images/familiars/frinos.png',
                '/images/familiars/gale.png',
                '/images/familiars/hecuba.png',
                '/images/familiars/raki.png',
                '/images/familiars/toula.png'
            ]
        };

        let totalImages = 0;
        let existingImages = 0;
        let missingImages = 0;

        const container = document.getElementById('images-container');

        function getImageName(path) {
            return path.split('/').pop().replace(/\.(webp|png|svg)$/, '').replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
        }

        async function checkImage(url) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => resolve({ exists: true, isFallback: false });
                img.onerror = () => {
                    // Try .svg fallback
                    if (url.endsWith('.webp')) {
                        const svgUrl = url.replace('.webp', '.svg');
                        const fallbackImg = new Image();
                        fallbackImg.onload = () => resolve({ exists: true, isFallback: true });
                        fallbackImg.onerror = () => resolve({ exists: false, isFallback: false });
                        fallbackImg.src = baseUrl + svgUrl;
                    } else {
                        resolve({ exists: false, isFallback: false });
                    }
                };
                img.src = baseUrl + url;
            });
        }

        async function renderImages() {
            for (const [category, urls] of Object.entries(imageData)) {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                categoryDiv.innerHTML = `<h2 class="category-title">${category} (${urls.length})</h2>`;

                const grid = document.createElement('div');
                grid.className = 'image-grid';

                for (const url of urls) {
                    totalImages++;
                    const { exists, isFallback } = await checkImage(url);

                    if (exists && !isFallback) existingImages++;
                    else if (exists && isFallback) existingImages++;
                    else missingImages++;

                    const displayUrl = isFallback ? url.replace('.webp', '.svg') : url;

                    const card = document.createElement('div');
                    card.className = 'image-card';
                    card.innerHTML = `
                        <img src="${baseUrl + displayUrl}" alt="${getImageName(url)}"
                             onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22><rect width=%22100%22 height=%22100%22 fill=%22%23666%22/><text x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22white%22 font-size=%2248%22>?</text></svg>'">
                        <div class="name">${getImageName(url)}</div>
                        <div class="path">${url}</div>
                        <span class="status ${exists ? (isFallback ? 'fallback' : 'exists') : 'missing'}">
                            ${exists ? (isFallback ? 'âš  SVG Fallback' : 'âœ“ Exists') : 'âœ— Missing'}
                        </span>
                    `;
                    grid.appendChild(card);
                }

                categoryDiv.appendChild(grid);
                container.appendChild(categoryDiv);
            }

            // Update stats
            document.getElementById('total-count').textContent = totalImages;
            document.getElementById('exists-count').textContent = existingImages;
            document.getElementById('missing-count').textContent = missingImages;
        }

        renderImages();
    </script>
</body>
</html>
